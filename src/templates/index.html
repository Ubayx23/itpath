{% extends "base.html" %}

{% block content %}
<h2>All Support Requests</h2>

{% if requests %}
    <div class="requests-grid">
        {% for req in requests %}
        <div class="request-card state-{{ req.state }}">
            <div class="request-header">
                <span class="request-id">#{{ req.id }}</span>
                <span class="state-badge">{{ req.state.replace('_', ' ').title() }}</span>
            </div>
            <p class="request-description">{{ req.description }}</p>
            <div class="request-footer">
                <small>Created: {{ req.created_at.strftime('%Y-%m-%d %H:%M') }}</small>
                <a href="{{ url_for('view_request', request_id=req.id) }}" class="btn-view">View Details</a>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <div class="empty-state">
        <p>No requests yet. <a href="{{ url_for('create') }}">Create your first request</a></p>
    </div>
{% endif %}
{% endblock %}

